var ee=[["Backspace","Backspace"],["Tab","Tab"],["Enter","Enter"],["Shift","ShiftLeft"],["Shift","ShiftRight"],["Control","ControlLeft"],["Control","ControlRight"],["Alt","AltLeft"],["Alt","AltRight"],["CapsLock","CapsLock"],["Escape","Escape"],[" ","Space"],["Delete","Delete"],["0","Digit0"],["1","Digit1"],["2","Digit2"],["3","Digit3"],["4","Digit4"],["5","Digit5"],["6","Digit6"],["7","Digit7"],["8","Digit8"],["9","Digit9"],["a","KeyA"],["b","KeyB"],["c","KeyC"],["\xE7","KeyC"],["d","KeyD"],["e","KeyE"],["f","KeyF"],["g","KeyG"],["h","KeyH"],["i","KeyI"],["j","KeyJ"],["k","KeyK"],["l","KeyL"],["m","KeyM"],["n","KeyN"],["o","KeyO"],["p","KeyP"],["q","KeyQ"],["r","KeyR"],["s","KeyS"],["t","KeyT"],["u","KeyU"],["v","KeyV"],["w","KeyW"],["x","KeyX"],["y","KeyY"],["z","KeyZ"],["0","Numpad0"],["1","Numpad1"],["2","Numpad2"],["3","Numpad3"],["4","Numpad4"],["5","Numpad5"],["6","Numpad6"],["7","Numpad7"],["8","Numpad8"],["9","Numpad9"],["*","NumpadMultiply"],["+","NumpadAdd"],["-","NumpadSubtract"],[".","NumpadDecimal"],["/","NumpadDivide"],["F1","F1"],["F2","F2"],["F3","F3"],["F4","F4"],["F5","F5"],["F6","F6"],["F7","F7"],["F8","F8"],["F9","F9"],["F10","F10"],["F11","F11"],["F12","F12"],[";","Semicolon"],["=","Equal"],[",","Comma"],["-","Minus"],[".","Period"],["/","Slash"],["\\","Backslash"],["|","Bar"],["`","Backquote"],["[","BracketLeft"],["]","BracketRight"],["{","BraceLeft"],["}","BraceRight"],[">","ArrowRight"],["<","ArrowLeft"],["(","ParenthesisLeft"],[")","ParenthesisRight"],["'","Quote"],['"',"DoubleQuote"],["?","Question"],[":","Colon"],["!","Exclamation"],["~","Tilde"],["&","Ampersand"],["$","Dollar"],["%","Percent"],["^","Caret"],["#","Hash"],["@","At"],["_","Underscore"]],w="ABC",b="?123",E="1234",B="=/<",j=".com",_=" ",k=e=>ee.find(d=>d[1]===e.toLowerCase())||[e,e],M=[["q","w","e","r","t","y","u","i","o","p"],["a","s","d","f","g","h","j","k","l"],["Shift","z","x","c","v","b","n","m","Backspace"],[b,",",_,".","Enter"]].map(e=>e.map(k)),U=[["1","2","3","4","5","6","7","8","9","0"],["@","#","$","_","&","-","+","(",")","/"],[B,"*",'"',"'",":",";","!","?","Backspace"],[w,E,",",_,".","Enter"]].map(e=>e.map(k)),z=[["1","2","3",w],["4","5","6",B],["7","8","9","Backspace"],[".","0",",","Enter"]].map(e=>e.map(k)),q=[["~","`","|","\u2022","\u221A","\u03C0","\xF7","\xD7","\xA7","\u2206"],["\xA3","\xA2","\u20AC","\xA5","^","\xB0","=","{","}","\\"],[b,"%","\xA9","\xAE","\u2122","\u2713","[","]","Backspace"],[w,E,"<",_,">","Enter"]].map(e=>e.map(k)),H=[["q","w","e","r","t","y","u","i","o","p"],["a","s","d","f","g","h","j","k","l"],["Shift","z","x","c","v","b","n","m","Backspace"],[b,"@",j,_,".","Enter"]].map(e=>e.map(k));var f="tecladojs-keyboard",te=["text","date","datetime-local","email","month","number","password","search","tel","text","time","url","week"],G={default:M,numeric:U,numpad:z,symbol:q,email:H},l,C=new Map,S="default",p,F=!1,h=!1,K="",O=!1,$,x;function oe(e={}){var d;l||(typeof e.preset=="object"&&(G.default=e.preset.map(r=>r.map(n=>n==="Numeric"?b:n)).map(r=>r.map(n=>typeof n=="string"?k(n):[n[0],n[0],...n.slice(1)]))),l=e);let y=document.getElementById(f);y&&((d=y.parentNode)===null||d===void 0||d.removeChild(y));let s=document.createElement("div");return s.id=f,s.style.position="fixed",s.style.bottom="0px",s.style.left="0px",s.style.right="0px",s.style.display="none",s.style.zIndex="9999",s.style.width="100%",s.style.userSelect="none",l.theme==="dark"?(s.style.background="#333",s.style.color="#fff",s.style.border="1px solid #666"):(s.style.background="#fff",s.style.color="#000",s.style.border="1px solid #ccc"),s.appendChild(T()),document.body.appendChild(s),document.removeEventListener("click",V),document.addEventListener("click",V),document.removeEventListener("keydown",W),document.addEventListener("keydown",W),{showKeyboard:Q,hideKeyboard:N,on(r,n){if(!r||!n||!n.onChange)throw new Error("Element Id and changeCallback are required");let u=document.getElementById(r);if(!u||!te.includes(u.type))throw new Error("Element not found or not supported, check if Id and type is correct");let m=l.withHeader?L=>{let v=document.getElementById(`${f}-header`);v&&(K=L||"",v.innerText=u.type==="password"?J(K):K),n.onChange(L)}:n.onChange;C.set(r,Object.assign(Object.assign({},n),{onChange:m}));let i=()=>{p!==u.id&&(p=u.id,Q())};return u.removeEventListener("focus",i),u.addEventListener("focus",i),()=>{u.removeEventListener("focus",i),C.delete(r)}}}}function Q(){var e;let d=document.getElementById(f);d&&(S=((e=C.get(p))===null||e===void 0?void 0:e.keyboardType)||"default",d.appendChild(T()),d.style.display="block",d.style.transform="translateY(0)")}function N(){let e=document.getElementById(f);e&&(e.style.transform="translateY(100%)",setTimeout(()=>{e.style.display="none"},300)),p="",K="",h=!1,S="default",x=void 0}function V(e){let d=document.getElementById(f),y=document.getElementById(p);if(d&&y){let s=y?.contains(e.target),r=d?.contains(e.target);!s&&!r&&(y.blur(),N())}else N()}function W(e){var d,y,s,r,n;if(!F){l.disablePhisicalKeyboard&&e.preventDefault();return}let u=document.getElementById(p);if(u)switch(e.key){case"Backspace":(d=C.get(p))===null||d===void 0||d.onChange(u.value.slice(0,-1));break;case"Delete":(y=C.get(p))===null||y===void 0||y.onChange("");break;case"Enter":(r=(s=C.get(p))===null||s===void 0?void 0:s.onSubmit)===null||r===void 0||r.call(s);case"Escape":u.blur(),N();break;case"Shift":h=!h;let m=document.getElementById(f);m&&m.appendChild(T());break;default:let i=h?e.key.toUpperCase():e.key;(n=C.get(p))===null||n===void 0||n.onChange(u.value+i);break}F=!1}function T(){var e,d,y;let s=`${f}-content`,r=document.getElementById(s);r&&((e=r?.parentElement)===null||e===void 0||e.removeChild(r));let n=document.createElement("div");if(n.id=s,n.style.display="flex",n.style.flexDirection="column",n.style.justifyContent="center",n.style.gap="10px",n.style.paddingTop="10px",n.style.paddingBottom="10px",n.style.width="100%",l?.contentClass&&(n.className=l.contentClass),l?.withHeader){let m=document.getElementById(p);m&&(K=m.value||"");let i=document.createElement("div");i.id=`${f}-header`,i.style.display="flex",i.style.paddingLeft="10px",i.style.paddingRight="10px",i.style.justifyContent="center",i.style.alignItems="center",i.style.fontSize="1rem",i.style.height="1.5rem",i.innerText=m?.type==="password"?J(K):K,l.theme==="dark"?i.style.color="#fff":i.style.color="#000",n.appendChild(i)}!l.preset&&S==="default"&&((d=document.getElementById(p))===null||d===void 0?void 0:d.type)==="email"&&(S="email");let u=G[S];for(let m of u){let i=document.createElement("div");i.style.display="flex",i.style.gap="6px",i.style.justifyContent="center",i.style.paddingLeft="10px",i.style.paddingRight="10px";for(let[a,L,...v]of m){let X=`${f}-button-${a}`,t=document.createElement("button");t.id=X,t.style.width="4rem",t.style.height="3rem",t.style.fontSize="1.5rem",t.style.color="white",t.style.backgroundColor="black",t.style.borderRadius="5px",t.style.display="flex",t.style.alignItems="center",t.style.justifyContent="center",t.style.cursor="pointer";let I,A;l.theme==="dark"?(I="0 2px 4px rgba(255, 255, 255, 0.2)",A="0 4px 8px rgba(255, 255, 255, 0.4)",t.style.background="#333",t.style.color="#fff",t.style.border="1px solid #666",t.style.boxShadow=I,t.style.transition="box-shadow 0.3s ease"):(I="0 2px 4px rgba(0, 0, 0, 0.2)",A="0 4px 8px rgba(0, 0, 0, 0.4)",t.style.background="#fff",t.style.color="#000",t.style.border="1px solid #ccc",t.style.boxShadow=I,t.style.transition="box-shadow 0.3s ease"),t.addEventListener("mousedown",()=>{t.style.boxShadow=A,v?.length&&($=setTimeout(()=>{O=!0,x=[...v];let o=document.createElement("div");o.style.position="absolute",o.style.top="0",o.style.left="0",o.style.width="100%",o.style.height="100%",o.style.zIndex="9999",o.style.display="flex",o.style.justifyContent="center",o.style.alignItems="center",o.style.flexWrap="wrap",o.style.gap="10px",l.theme==="dark"?o.style.backgroundColor="rgba(51, 51, 51, 0.8)":o.style.backgroundColor="rgba(255, 255, 255, 0.8)";for(let g of x){let c=document.createElement("button");c.innerText=h?g.toUpperCase():g,c.style.width="3rem",c.style.height="3rem",c.style.fontSize="1.5rem",c.style.borderRadius="5px",c.style.display="flex",c.style.alignItems="center",c.style.justifyContent="center",c.style.cursor="pointer",l.theme==="dark"?(c.style.background="#333",c.style.color="#fff",c.style.border="1px solid #666"):(c.style.background="#fff",c.style.color="#000",c.style.border="1px solid #ccc"),c.addEventListener("click",P=>{var Y;let R=document.getElementById(p);R?.focus();let Z=new KeyboardEvent("keydown",{key:g,code:g,shiftKey:h});F=!0,x=void 0,document.dispatchEvent(Z),P.stopPropagation(),(Y=o.parentElement)===null||Y===void 0||Y.removeChild(o)}),o.appendChild(c)}t.appendChild(o)},500))}),t.addEventListener("mouseup",o=>{t.style.boxShadow=I,clearTimeout($),O&&o.preventDefault(),O=!1});let D=a===E?a.slice(0,2)+"</br>"+a.slice(2,4):a;if(l?.keySymbols&&["Backspace","Enter","Shift"].includes(a)&&(D=l.keySymbols[a]||a),h&&(D=D.toUpperCase()),t.innerHTML=D,(a==="Backspace"||a==="Enter"||a==="Shift"||[w,b,B,E,j].includes(a))&&(t.style.width="6rem",!((y=l?.keySymbols)===null||y===void 0)&&y[a]||(t.style.fontSize="1rem")),a===" "&&(t.style.width="14rem"),a==="Shift")if(h){t.style.position="relative";let o=document.createElement("div");o.id="dot-indicator",o.style.width="0.5rem",o.style.height="0.5rem",o.style.borderRadius="50%",o.style.backgroundColor=l.theme==="dark"?"#fff":"#000",o.style.position="absolute",o.style.top="0.25rem",o.style.right="0.25rem",t.appendChild(o)}else{let o=t.querySelector("#dot-indicator");o&&t.removeChild(o)}l?.keyClass&&(t.className=l.keyClass),t.addEventListener("click",o=>{if(x?.length){o.stopPropagation();return}if([b,E,B,w].includes(a)){S=a===b?"numeric":a===E?"numpad":a===B?"symbol":"default";let P=document.getElementById(f);P&&P.appendChild(T()),o.stopPropagation();return}let g=document.getElementById(p);g?.focus();let c=new KeyboardEvent("keydown",{key:a,code:L,shiftKey:h});F=!0,document.dispatchEvent(c),o.stopPropagation()}),i.appendChild(t)}n.appendChild(i)}return n}function J(e){return Array.from({length:e.length},()=>"*").join("")}export{oe as teclado};
