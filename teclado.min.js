"use strict";(()=>{var O=[["Backspace","Backspace"],["Tab","Tab"],["Enter","Enter"],["Shift","ShiftLeft"],["Shift","ShiftRight"],["Control","ControlLeft"],["Control","ControlRight"],["Alt","AltLeft"],["Alt","AltRight"],["CapsLock","CapsLock"],["Escape","Escape"],[" ","Space"],["Delete","Delete"],["0","Digit0"],["1","Digit1"],["2","Digit2"],["3","Digit3"],["4","Digit4"],["5","Digit5"],["6","Digit6"],["7","Digit7"],["8","Digit8"],["9","Digit9"],["a","KeyA"],["b","KeyB"],["c","KeyC"],["\xE7","KeyC"],["d","KeyD"],["e","KeyE"],["f","KeyF"],["g","KeyG"],["h","KeyH"],["i","KeyI"],["j","KeyJ"],["k","KeyK"],["l","KeyL"],["m","KeyM"],["n","KeyN"],["o","KeyO"],["p","KeyP"],["q","KeyQ"],["r","KeyR"],["s","KeyS"],["t","KeyT"],["u","KeyU"],["v","KeyV"],["w","KeyW"],["x","KeyX"],["y","KeyY"],["z","KeyZ"],["0","Numpad0"],["1","Numpad1"],["2","Numpad2"],["3","Numpad3"],["4","Numpad4"],["5","Numpad5"],["6","Numpad6"],["7","Numpad7"],["8","Numpad8"],["9","Numpad9"],["*","NumpadMultiply"],["+","NumpadAdd"],["-","NumpadSubtract"],[".","NumpadDecimal"],["/","NumpadDivide"],["F1","F1"],["F2","F2"],["F3","F3"],["F4","F4"],["F5","F5"],["F6","F6"],["F7","F7"],["F8","F8"],["F9","F9"],["F10","F10"],["F11","F11"],["F12","F12"],[";","Semicolon"],["=","Equal"],[",","Comma"],["-","Minus"],[".","Period"],["/","Slash"],["\\","Backslash"],["|","Bar"],["`","Backquote"],["[","BracketLeft"],["]","BracketRight"],["{","BraceLeft"],["}","BraceRight"],[">","ArrowRight"],["<","ArrowLeft"],["(","ParenthesisLeft"],[")","ParenthesisRight"],["'","Quote"],['"',"DoubleQuote"],["?","Question"],[":","Colon"],["!","Exclamation"],["~","Tilde"],["&","Ampersand"],["$","Dollar"],["%","Percent"],["^","Caret"],["#","Hash"],["@","At"],["_","Underscore"]],E="ABC",f="?123",b="1234",g="=/<",k=t=>O.find(d=>d[1]===t)||[t,t],F=[["q","w","e","r","t","y","u","i","o","p"],["a","s","d","f","g","h","j","k","l"],["Shift","z","x","c","v","b","n","m","Backspace"],[f,","," ",".","Enter"]].map(t=>t.map(k)),N=[["1","2","3","4","5","6","7","8","9","0"],["@","#","$","_","&","-","+","(",")","/"],[g,"*",'"',"'",":",";","!","?","Backspace"],[E,b,","," ",".","Enter"]].map(t=>t.map(k)),P=[["1","2","3",E],["4","5","6",g],["7","8","9","Backspace"],[".","0",",","Enter"]].map(t=>t.map(k)),A=[["~","`","|","\u2022","\u221A","\u03C0","\xF7","\xD7","\xA7","\u2206"],["\xA3","\xA2","\u20AC","\xA5","^","\xB0","=","{","}","\\"],[f,"%","\xA9","\xAE","\u2122","\u2713","[","]"],[E,b,"<"," ",">","Enter"]].map(t=>t.map(k));var y="tecladojs-keyboard",U=["text","date","datetime-local","email","month","number","password","search","tel","text","time","url","week"],S={alphabet:F,numeric:N,numpad:P,symbol:A},m,x=new Map,L=!1,h=!1,o,C="";function H(t={}){var d;o||(typeof t.preset=="object"&&(S.alphabet=t.preset.map(l=>l.map(i=>i==="Numeric"?f:i)).map(l=>l.map(k))),o=Object.assign(Object.assign({},t),{preset:"alphabet"}));let r=document.getElementById(y);r&&((d=r.parentNode)===null||d===void 0||d.removeChild(r));let n=document.createElement("div");return n.id=y,n.style.position="fixed",n.style.bottom="0px",n.style.left="0px",n.style.right="0px",n.style.display="none",n.style.zIndex="9999",n.style.width="100%",n.style.userSelect="none",o.theme==="dark"?(n.style.background="#333",n.style.color="#fff",n.style.border="1px solid #666"):(n.style.background="#fff",n.style.color="#000",n.style.border="1px solid #ccc"),n.appendChild(D(o.preset)),document.body.appendChild(n),document.removeEventListener("click",Y),document.addEventListener("click",Y),document.removeEventListener("keydown",R),document.addEventListener("keydown",R),{showKeyboard:_,hideKeyboard:w,on(l,i){let p=document.getElementById(l);if(!l||!i)throw new Error("Element Id and changeCallback are required");if(!p||!U.includes(p.type))throw new Error("Element not found or not supported, check if Id and type is correct");x.set(l,o.withHeader?s=>{let v=document.getElementById(`${y}-header`);v&&(C=s||"",v.innerText=C),i(s)}:i);let a=()=>{m=p.id,_()};return p.removeEventListener("focus",a),p.addEventListener("focus",a),()=>{p.removeEventListener("focus",a),x.delete(l)}}}}function _(){let t=document.getElementById(y);t&&(t.style.display="block",t.style.transform="translateY(0)")}function w(){let t=document.getElementById(y);t&&(t.style.transform="translateY(100%)",setTimeout(()=>{t.style.display="none"},300)),m="",C="",h=!1}function Y(t){let d=document.getElementById(y),r=document.getElementById(m);if(d&&r){let n=r?.contains(t.target),l=d?.contains(t.target);!n&&!l&&(r.blur(),w())}else w()}function R(t){var d,r,n;if(!L){o.disablePhisicalKeyboard&&t.preventDefault();return}let l=document.getElementById(m);if(l)switch(t.key){case"Backspace":(d=x.get(m))===null||d===void 0||d(l.value.slice(0,-1));break;case"Delete":(r=x.get(m))===null||r===void 0||r("");break;case"Enter":o.onSubmit&&typeof o.onSubmit=="function"&&o.onSubmit();case"Escape":l.blur(),w();break;case"Shift":h=!h;let i=document.getElementById(y);i&&i.appendChild(D("alphabet"));break;default:let p=h?t.key.toUpperCase():t.key;(n=x.get(m))===null||n===void 0||n(l.value+p);break}L=!1}function D(t){var d,r;let n=`${y}-content`,l=document.getElementById(n);l&&((d=l?.parentElement)===null||d===void 0||d.removeChild(l));let i=document.createElement("div");if(i.id=n,i.style.display="flex",i.style.flexDirection="column",i.style.justifyContent="center",i.style.gap="10px",i.style.paddingTop="10px",i.style.paddingBottom="10px",i.style.width="100%",o?.contentClass&&(i.className=o.contentClass),o?.withHeader){let a=document.createElement("div");a.id=`${y}-header`,a.style.display="flex",a.style.paddingLeft="10px",a.style.paddingRight="10px",a.style.justifyContent="center",a.style.alignItems="center",a.style.fontSize="1rem",a.style.height="1.5rem",a.innerText=C,o.theme==="dark"?a.style.color="#fff":a.style.color="#000",i.appendChild(a)}let p=t?S[t]:S.alphabet;for(let a of p){let u=document.createElement("div");u.style.display="flex",u.style.gap="6px",u.style.justifyContent="center",u.style.paddingLeft="10px",u.style.paddingRight="10px";for(let[s,v]of a){let T=`${y}-button-${s}`,e=document.createElement("button");e.id=T,e.style.width="4rem",e.style.height="3rem",e.style.fontSize="1.5rem",e.style.color="white",e.style.backgroundColor="black",e.style.borderRadius="5px",e.style.display="flex",e.style.alignItems="center",e.style.justifyContent="center",e.style.cursor="pointer",o.theme==="dark"?(e.style.background="#333",e.style.color="#fff",e.style.border="1px solid #666",e.style.boxShadow="0 2px 4px rgba(255, 255, 255, 0.2)",e.style.transition="box-shadow 0.3s ease",e.addEventListener("mousedown",()=>{e.style.boxShadow="0 4px 8px rgba(255, 255, 255, 0.4)"}),e.addEventListener("mouseup",()=>{e.style.boxShadow="0 2px 4px rgba(255, 255, 255, 0.2)"})):(e.style.background="#fff",e.style.color="#000",e.style.border="1px solid #ccc",e.style.boxShadow="0 2px 4px rgba(0, 0, 0, 0.2)",e.style.transition="box-shadow 0.3s ease",e.addEventListener("mousedown",()=>{e.style.boxShadow="0 4px 8px rgba(0, 0, 0, 0.4)"}),e.addEventListener("mouseup",()=>{e.style.boxShadow="0 2px 4px rgba(0, 0, 0, 0.2)"}));let K=s===b?s.slice(0,2)+"</br>"+s.slice(2,4):s;if(o?.keySymbols&&["Backspace","Enter","Shift"].includes(s)&&(K=o.keySymbols[s]||s),h&&(K=K.toUpperCase()),e.innerHTML=K,(s==="Backspace"||s==="Enter"||s==="Shift"||[E,f,g,b].includes(s))&&(e.style.width="6rem",!((r=o?.keySymbols)===null||r===void 0)&&r[s]||(e.style.fontSize="1rem")),s===" "&&(e.style.width="14rem"),s==="Shift")if(h){e.style.position="relative";let c=document.createElement("div");c.id="dot-indicator",c.style.width="0.5rem",c.style.height="0.5rem",c.style.borderRadius="50%",c.style.backgroundColor=o.theme==="dark"?"#fff":"#000",c.style.position="absolute",c.style.top="0.25rem",c.style.right="0.25rem",e.appendChild(c)}else{let c=e.querySelector("#dot-indicator");c&&e.removeChild(c)}o?.keyClass&&(e.className=o.keyClass),e.addEventListener("click",c=>{if([f,b,g,E].includes(s)){let j=D(s===f?"numeric":s===b?"numpad":s===g?"symbol":"alphabet"),I=document.getElementById(y);I&&I.appendChild(j),c.stopPropagation();return}let B=document.getElementById(m);B?.focus();let M=new KeyboardEvent("keydown",{key:s,code:v,shiftKey:h});L=!0,document.dispatchEvent(M),c.stopPropagation()}),u.appendChild(e)}i.appendChild(u)}return i}})();
