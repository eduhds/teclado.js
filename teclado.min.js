"use strict";(()=>{var W=[["Backspace","Backspace"],["Tab","Tab"],["Enter","Enter"],["Shift","ShiftLeft"],["Shift","ShiftRight"],["Control","ControlLeft"],["Control","ControlRight"],["Alt","AltLeft"],["Alt","AltRight"],["CapsLock","CapsLock"],["Escape","Escape"],[" ","Space"],["Delete","Delete"],["0","Digit0"],["1","Digit1"],["2","Digit2"],["3","Digit3"],["4","Digit4"],["5","Digit5"],["6","Digit6"],["7","Digit7"],["8","Digit8"],["9","Digit9"],["a","KeyA"],["b","KeyB"],["c","KeyC"],["\xE7","KeyC"],["d","KeyD"],["e","KeyE"],["f","KeyF"],["g","KeyG"],["h","KeyH"],["i","KeyI"],["j","KeyJ"],["k","KeyK"],["l","KeyL"],["m","KeyM"],["n","KeyN"],["o","KeyO"],["p","KeyP"],["q","KeyQ"],["r","KeyR"],["s","KeyS"],["t","KeyT"],["u","KeyU"],["v","KeyV"],["w","KeyW"],["x","KeyX"],["y","KeyY"],["z","KeyZ"],["0","Numpad0"],["1","Numpad1"],["2","Numpad2"],["3","Numpad3"],["4","Numpad4"],["5","Numpad5"],["6","Numpad6"],["7","Numpad7"],["8","Numpad8"],["9","Numpad9"],["*","NumpadMultiply"],["+","NumpadAdd"],["-","NumpadSubtract"],[".","NumpadDecimal"],["/","NumpadDivide"],["F1","F1"],["F2","F2"],["F3","F3"],["F4","F4"],["F5","F5"],["F6","F6"],["F7","F7"],["F8","F8"],["F9","F9"],["F10","F10"],["F11","F11"],["F12","F12"],[";","Semicolon"],["=","Equal"],[",","Comma"],["-","Minus"],[".","Period"],["/","Slash"],["\\","Backslash"],["|","Bar"],["`","Backquote"],["[","BracketLeft"],["]","BracketRight"],["{","BraceLeft"],["}","BraceRight"],[">","ArrowRight"],["<","ArrowLeft"],["(","ParenthesisLeft"],[")","ParenthesisRight"],["'","Quote"],['"',"DoubleQuote"],["?","Question"],[":","Colon"],["!","Exclamation"],["~","Tilde"],["&","Ampersand"],["$","Dollar"],["%","Percent"],["^","Caret"],["#","Hash"],["@","At"],["_","Underscore"]],E="ABC",g="?123",v="1234",x="=/<",C=o=>W.find(d=>d[1]===o.toLowerCase())||[o,o],j=[["q","w","e","r","t","y","u","i","o","p"],["a","s","d","f","g","h","j","k","l"],["Shift","z","x","c","v","b","n","m","Backspace"],[g,","," ",".","Enter"]].map(o=>o.map(C)),M=[["1","2","3","4","5","6","7","8","9","0"],["@","#","$","_","&","-","+","(",")","/"],[x,"*",'"',"'",":",";","!","?","Backspace"],[E,v,","," ",".","Enter"]].map(o=>o.map(C)),O=[["1","2","3",E],["4","5","6",x],["7","8","9","Backspace"],[".","0",",","Enter"]].map(o=>o.map(C)),U=[["~","`","|","\u2022","\u221A","\u03C0","\xF7","\xD7","\xA7","\u2206"],["\xA3","\xA2","\u20AC","\xA5","^","\xB0","=","{","}","\\"],[g,"%","\xA9","\xAE","\u2122","\u2713","[","]","Backspace"],[E,v,"<"," ",">","Enter"]].map(o=>o.map(C));var m="tecladojs-keyboard",G=["text","date","datetime-local","email","month","number","password","search","tel","text","time","url","week"],Q={alphabet:j,numeric:M,numpad:O,symbol:U},l,k=new Map,I="alphabet",u,D=!1,h=!1,w="",R=!1,z,Y;function J(o={}){var d;l||(typeof o.preset=="object"&&(Q.alphabet=o.preset.map(s=>s.map(c=>c==="Numeric"?g:c)).map(s=>s.map(c=>typeof c=="string"?C(c):c))),l=o);let p=document.getElementById(m);p&&((d=p.parentNode)===null||d===void 0||d.removeChild(p));let n=document.createElement("div");return n.id=m,n.style.position="fixed",n.style.bottom="0px",n.style.left="0px",n.style.right="0px",n.style.display="none",n.style.zIndex="9999",n.style.width="100%",n.style.userSelect="none",l.theme==="dark"?(n.style.background="#333",n.style.color="#fff",n.style.border="1px solid #666"):(n.style.background="#fff",n.style.color="#000",n.style.border="1px solid #ccc"),n.appendChild(N()),document.body.appendChild(n),document.removeEventListener("click",$),document.addEventListener("click",$),document.removeEventListener("keydown",q),document.addEventListener("keydown",q),{showKeyboard:H,hideKeyboard:F,on(s,c){if(!s||!c||!c.onChange)throw new Error("Element Id and changeCallback are required");let y=document.getElementById(s);if(!y||!G.includes(y.type))throw new Error("Element not found or not supported, check if Id and type is correct");let a=l.withHeader?f=>{let B=document.getElementById(`${m}-header`);B&&(w=f||"",B.innerText=w),c.onChange(f)}:c.onChange;k.set(s,Object.assign(Object.assign({},c),{onChange:a}));let i=()=>{u!==y.id&&(u=y.id,H())};return y.removeEventListener("focus",i),y.addEventListener("focus",i),()=>{y.removeEventListener("focus",i),k.delete(s)}}}}function H(){var o;let d=document.getElementById(m);d&&(I=((o=k.get(u))===null||o===void 0?void 0:o.keyboardType)||"alphabet",d.appendChild(N()),d.style.display="block",d.style.transform="translateY(0)")}function F(){let o=document.getElementById(m);o&&(o.style.transform="translateY(100%)",setTimeout(()=>{o.style.display="none"},300)),u="",w="",h=!1,I="alphabet"}function $(o){let d=document.getElementById(m),p=document.getElementById(u);if(d&&p){let n=p?.contains(o.target),s=d?.contains(o.target);!n&&!s&&(p.blur(),F())}else F()}function q(o){var d,p,n,s,c;if(!D){l.disablePhisicalKeyboard&&o.preventDefault();return}let y=document.getElementById(u);if(y)switch(o.key){case"Backspace":(d=k.get(u))===null||d===void 0||d.onChange(y.value.slice(0,-1));break;case"Delete":(p=k.get(u))===null||p===void 0||p.onChange("");break;case"Enter":(s=(n=k.get(u))===null||n===void 0?void 0:n.onSubmit)===null||s===void 0||s.call(n);case"Escape":y.blur(),F();break;case"Shift":h=!h;let a=document.getElementById(m);a&&a.appendChild(N());break;default:let i=h?o.key.toUpperCase():o.key;(c=k.get(u))===null||c===void 0||c.onChange(y.value+i);break}D=!1}function N(){var o,d;let p=`${m}-content`,n=document.getElementById(p);n&&((o=n?.parentElement)===null||o===void 0||o.removeChild(n));let s=document.createElement("div");if(s.id=p,s.style.display="flex",s.style.flexDirection="column",s.style.justifyContent="center",s.style.gap="10px",s.style.paddingTop="10px",s.style.paddingBottom="10px",s.style.width="100%",l?.contentClass&&(s.className=l.contentClass),l?.withHeader){let y=document.getElementById(u);y&&(w=y.value||"");let a=document.createElement("div");a.id=`${m}-header`,a.style.display="flex",a.style.paddingLeft="10px",a.style.paddingRight="10px",a.style.justifyContent="center",a.style.alignItems="center",a.style.fontSize="1rem",a.style.height="1.5rem",a.innerText=w,l.theme==="dark"?a.style.color="#fff":a.style.color="#000",s.appendChild(a)}let c=Q[I];for(let y of c){let a=document.createElement("div");a.style.display="flex",a.style.gap="6px",a.style.justifyContent="center",a.style.paddingLeft="10px",a.style.paddingRight="10px";for(let[i,P,...f]of y){let B=`${m}-button-${i}`,e=document.createElement("button");e.id=B,e.style.width="4rem",e.style.height="3rem",e.style.fontSize="1.5rem",e.style.color="white",e.style.backgroundColor="black",e.style.borderRadius="5px",e.style.display="flex",e.style.alignItems="center",e.style.justifyContent="center",e.style.cursor="pointer";let K,_;l.theme==="dark"?(K="0 2px 4px rgba(255, 255, 255, 0.2)",_="0 4px 8px rgba(255, 255, 255, 0.4)",e.style.background="#333",e.style.color="#fff",e.style.border="1px solid #666",e.style.boxShadow=K,e.style.transition="box-shadow 0.3s ease"):(K="0 2px 4px rgba(0, 0, 0, 0.2)",_="0 4px 8px rgba(0, 0, 0, 0.4)",e.style.background="#fff",e.style.color="#000",e.style.border="1px solid #ccc",e.style.boxShadow=K,e.style.transition="box-shadow 0.3s ease"),e.addEventListener("mousedown",()=>{e.style.boxShadow=_,f?.length&&(z=setTimeout(()=>{R=!0,Y=[P,...f];let t=document.createElement("div");t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100%",t.style.zIndex="9999",t.style.display="flex",t.style.justifyContent="center",t.style.alignItems="center",t.style.flexWrap="wrap",t.style.gap="10px",l.theme==="dark"?t.style.backgroundColor="rgba(51, 51, 51, 0.8)":t.style.backgroundColor="rgba(255, 255, 255, 0.8)";for(let b of Y){let r=document.createElement("button");r.innerText=h?b.toUpperCase():b,r.style.width="3rem",r.style.height="3rem",r.style.fontSize="1.5rem",r.style.borderRadius="5px",r.style.display="flex",r.style.alignItems="center",r.style.justifyContent="center",r.style.cursor="pointer",l.theme==="dark"?(r.style.background="#333",r.style.color="#fff",r.style.border="1px solid #666"):(r.style.background="#fff",r.style.color="#000",r.style.border="1px solid #ccc"),r.addEventListener("click",S=>{var A;let T=document.getElementById(u);T?.focus();let V=new KeyboardEvent("keydown",{key:b,code:b,shiftKey:h});D=!0,Y=void 0,document.dispatchEvent(V),S.stopPropagation(),(A=t.parentElement)===null||A===void 0||A.removeChild(t)}),t.appendChild(r)}e.appendChild(t)},500))}),e.addEventListener("mouseup",t=>{e.style.boxShadow=K,clearTimeout(z),R&&t.preventDefault(),R=!1});let L=i===v?i.slice(0,2)+"</br>"+i.slice(2,4):i;if(l?.keySymbols&&["Backspace","Enter","Shift"].includes(i)&&(L=l.keySymbols[i]||i),h&&(L=L.toUpperCase()),e.innerHTML=L,(i==="Backspace"||i==="Enter"||i==="Shift"||[E,g,x,v].includes(i))&&(e.style.width="6rem",!((d=l?.keySymbols)===null||d===void 0)&&d[i]||(e.style.fontSize="1rem")),i===" "&&(e.style.width="14rem"),i==="Shift")if(h){e.style.position="relative";let t=document.createElement("div");t.id="dot-indicator",t.style.width="0.5rem",t.style.height="0.5rem",t.style.borderRadius="50%",t.style.backgroundColor=l.theme==="dark"?"#fff":"#000",t.style.position="absolute",t.style.top="0.25rem",t.style.right="0.25rem",e.appendChild(t)}else{let t=e.querySelector("#dot-indicator");t&&e.removeChild(t)}l?.keyClass&&(e.className=l.keyClass),e.addEventListener("click",t=>{if(f?.length){t.stopPropagation();return}if([g,v,x,E].includes(i)){I=i===g?"numeric":i===v?"numpad":i===x?"symbol":"alphabet";let S=document.getElementById(m);S&&S.appendChild(N()),t.stopPropagation();return}let b=document.getElementById(u);b?.focus();let r=new KeyboardEvent("keydown",{key:i,code:P,shiftKey:h});D=!0,document.dispatchEvent(r),t.stopPropagation()}),a.appendChild(e)}s.appendChild(a)}return s}})();
