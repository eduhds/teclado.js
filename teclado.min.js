"use strict";(()=>{var j=[["Backspace","Backspace"],["Tab","Tab"],["Enter","Enter"],["Shift","ShiftLeft"],["Shift","ShiftRight"],["Control","ControlLeft"],["Control","ControlRight"],["Alt","AltLeft"],["Alt","AltRight"],["CapsLock","CapsLock"],["Escape","Escape"],[" ","Space"],["Delete","Delete"],["0","Digit0"],["1","Digit1"],["2","Digit2"],["3","Digit3"],["4","Digit4"],["5","Digit5"],["6","Digit6"],["7","Digit7"],["8","Digit8"],["9","Digit9"],["a","KeyA"],["b","KeyB"],["c","KeyC"],["\xE7","KeyC"],["d","KeyD"],["e","KeyE"],["f","KeyF"],["g","KeyG"],["h","KeyH"],["i","KeyI"],["j","KeyJ"],["k","KeyK"],["l","KeyL"],["m","KeyM"],["n","KeyN"],["o","KeyO"],["p","KeyP"],["q","KeyQ"],["r","KeyR"],["s","KeyS"],["t","KeyT"],["u","KeyU"],["v","KeyV"],["w","KeyW"],["x","KeyX"],["y","KeyY"],["z","KeyZ"],["0","Numpad0"],["1","Numpad1"],["2","Numpad2"],["3","Numpad3"],["4","Numpad4"],["5","Numpad5"],["6","Numpad6"],["7","Numpad7"],["8","Numpad8"],["9","Numpad9"],["*","NumpadMultiply"],["+","NumpadAdd"],["-","NumpadSubtract"],[".","NumpadDecimal"],["/","NumpadDivide"],["F1","F1"],["F2","F2"],["F3","F3"],["F4","F4"],["F5","F5"],["F6","F6"],["F7","F7"],["F8","F8"],["F9","F9"],["F10","F10"],["F11","F11"],["F12","F12"],[";","Semicolon"],["=","Equal"],[",","Comma"],["-","Minus"],[".","Period"],["/","Slash"],["\\","Backslash"],["|","Bar"],["`","Backquote"],["[","BracketLeft"],["]","BracketRight"],["{","BraceLeft"],["}","BraceRight"],[">","ArrowRight"],["<","ArrowLeft"],["(","ParenthesisLeft"],[")","ParenthesisRight"],["'","Quote"],['"',"DoubleQuote"],["?","Question"],[":","Colon"],["!","Exclamation"],["~","Tilde"],["&","Ampersand"],["$","Dollar"],["%","Percent"],["^","Caret"],["#","Hash"],["@","At"],["_","Underscore"]],g="ABC",f="?123",h="1234",E="=/<",v=t=>j.find(d=>d[1]===t)||[t,t],N=[["q","w","e","r","t","y","u","i","o","p"],["a","s","d","f","g","h","j","k","l"],["Shift","z","x","c","v","b","n","m","Backspace"],[f,","," ",".","Enter"]].map(t=>t.map(v)),P=[["1","2","3","4","5","6","7","8","9","0"],["@","#","$","_","&","-","+","(",")","/"],[E,"*",'"',"'",":",";","!","?","Backspace"],[g,h,","," ",".","Enter"]].map(t=>t.map(v)),_=[["1","2","3",g],["4","5","6",E],["7","8","9","Backspace"],[".","0",",","Enter"]].map(t=>t.map(v)),A=[["~","`","|","\u2022","\u221A","\u03C0","\xF7","\xD7","\xA7","\u2206"],["\xA3","\xA2","\u20AC","\xA5","^","\xB0","=","{","}","\\"],[f,"%","\xA9","\xAE","\u2122","\u2713","[","]","Backspace"],[g,h,"<"," ",">","Enter"]].map(t=>t.map(v));var p="tecladojs-keyboard",H=["text","date","datetime-local","email","month","number","password","search","tel","text","time","url","week"],I={alphabet:N,numeric:P,numpad:_,symbol:A},u,k=new Map,L=!1,b=!1,s,K="",C="alphabet";function O(t={}){var d;s||(typeof t.preset=="object"&&(I.alphabet=t.preset.map(n=>n.map(y=>y==="Numeric"?f:y)).map(n=>n.map(v))),s=t);let c=document.getElementById(p);c&&((d=c.parentNode)===null||d===void 0||d.removeChild(c));let o=document.createElement("div");return o.id=p,o.style.position="fixed",o.style.bottom="0px",o.style.left="0px",o.style.right="0px",o.style.display="none",o.style.zIndex="9999",o.style.width="100%",o.style.userSelect="none",s.theme==="dark"?(o.style.background="#333",o.style.color="#fff",o.style.border="1px solid #666"):(o.style.background="#fff",o.style.color="#000",o.style.border="1px solid #ccc"),o.appendChild(D()),document.body.appendChild(o),document.removeEventListener("click",R),document.addEventListener("click",R),document.removeEventListener("keydown",T),document.addEventListener("keydown",T),{showKeyboard:Y,hideKeyboard:w,setKeyboardType:$,on(n,y,l){let r=document.getElementById(n);if(!n||!y)throw new Error("Element Id and changeCallback are required");if(!r||!H.includes(r.type))throw new Error("Element not found or not supported, check if Id and type is correct");let i=s.withHeader?m=>{let a=document.getElementById(`${p}-header`);a&&(K=m||"",a.innerText=K),y(m)}:y,B=l;k.set(n,{onSubmit:B,onChange:i});let x=()=>{u=r.id,Y()};return r.removeEventListener("focus",x),r.addEventListener("focus",x),()=>{r.removeEventListener("focus",x),k.delete(n)}}}}function Y(){let t=document.getElementById(p);t&&(t.style.display="block",t.style.transform="translateY(0)")}function w(){let t=document.getElementById(p);t&&(t.style.transform="translateY(100%)",setTimeout(()=>{t.style.display="none"},300)),u="",K="",b=!1,C="alphabet"}function $(t){if(t in I){C=t;return}throw new Error("Invalid keyboard type")}function R(t){let d=document.getElementById(p),c=document.getElementById(u);if(d&&c){let o=c?.contains(t.target),n=d?.contains(t.target);!o&&!n&&(c.blur(),w())}else w()}function T(t){var d,c,o,n,y;if(!L){s.disablePhisicalKeyboard&&t.preventDefault();return}let l=document.getElementById(u);if(l)switch(t.key){case"Backspace":(d=k.get(u))===null||d===void 0||d.onChange(l.value.slice(0,-1));break;case"Delete":(c=k.get(u))===null||c===void 0||c.onChange("");break;case"Enter":(n=(o=k.get(u))===null||o===void 0?void 0:o.onSubmit)===null||n===void 0||n.call(o);case"Escape":l.blur(),w();break;case"Shift":b=!b;let r=document.getElementById(p);r&&r.appendChild(D());break;default:let i=b?t.key.toUpperCase():t.key;(y=k.get(u))===null||y===void 0||y.onChange(l.value+i);break}L=!1}function D(){var t,d;let c=`${p}-content`,o=document.getElementById(c);o&&((t=o?.parentElement)===null||t===void 0||t.removeChild(o));let n=document.createElement("div");if(n.id=c,n.style.display="flex",n.style.flexDirection="column",n.style.justifyContent="center",n.style.gap="10px",n.style.paddingTop="10px",n.style.paddingBottom="10px",n.style.width="100%",s?.contentClass&&(n.className=s.contentClass),s?.withHeader){let l=document.createElement("div");l.id=`${p}-header`,l.style.display="flex",l.style.paddingLeft="10px",l.style.paddingRight="10px",l.style.justifyContent="center",l.style.alignItems="center",l.style.fontSize="1rem",l.style.height="1.5rem",l.innerText=K,s.theme==="dark"?l.style.color="#fff":l.style.color="#000",n.appendChild(l)}let y=I[C];for(let l of y){let r=document.createElement("div");r.style.display="flex",r.style.gap="6px",r.style.justifyContent="center",r.style.paddingLeft="10px",r.style.paddingRight="10px";for(let[i,B]of l){let x=`${p}-button-${i}`,e=document.createElement("button");e.id=x,e.style.width="4rem",e.style.height="3rem",e.style.fontSize="1.5rem",e.style.color="white",e.style.backgroundColor="black",e.style.borderRadius="5px",e.style.display="flex",e.style.alignItems="center",e.style.justifyContent="center",e.style.cursor="pointer",s.theme==="dark"?(e.style.background="#333",e.style.color="#fff",e.style.border="1px solid #666",e.style.boxShadow="0 2px 4px rgba(255, 255, 255, 0.2)",e.style.transition="box-shadow 0.3s ease",e.addEventListener("mousedown",()=>{e.style.boxShadow="0 4px 8px rgba(255, 255, 255, 0.4)"}),e.addEventListener("mouseup",()=>{e.style.boxShadow="0 2px 4px rgba(255, 255, 255, 0.2)"})):(e.style.background="#fff",e.style.color="#000",e.style.border="1px solid #ccc",e.style.boxShadow="0 2px 4px rgba(0, 0, 0, 0.2)",e.style.transition="box-shadow 0.3s ease",e.addEventListener("mousedown",()=>{e.style.boxShadow="0 4px 8px rgba(0, 0, 0, 0.4)"}),e.addEventListener("mouseup",()=>{e.style.boxShadow="0 2px 4px rgba(0, 0, 0, 0.2)"}));let m=i===h?i.slice(0,2)+"</br>"+i.slice(2,4):i;if(s?.keySymbols&&["Backspace","Enter","Shift"].includes(i)&&(m=s.keySymbols[i]||i),b&&(m=m.toUpperCase()),e.innerHTML=m,(i==="Backspace"||i==="Enter"||i==="Shift"||[g,f,E,h].includes(i))&&(e.style.width="6rem",!((d=s?.keySymbols)===null||d===void 0)&&d[i]||(e.style.fontSize="1rem")),i===" "&&(e.style.width="14rem"),i==="Shift")if(b){e.style.position="relative";let a=document.createElement("div");a.id="dot-indicator",a.style.width="0.5rem",a.style.height="0.5rem",a.style.borderRadius="50%",a.style.backgroundColor=s.theme==="dark"?"#fff":"#000",a.style.position="absolute",a.style.top="0.25rem",a.style.right="0.25rem",e.appendChild(a)}else{let a=e.querySelector("#dot-indicator");a&&e.removeChild(a)}s?.keyClass&&(e.className=s.keyClass),e.addEventListener("click",a=>{if([f,h,E,g].includes(i)){C=i===f?"numeric":i===h?"numpad":i===E?"symbol":"alphabet";let U=D(),F=document.getElementById(p);F&&F.appendChild(U),a.stopPropagation();return}let S=document.getElementById(u);S?.focus();let M=new KeyboardEvent("keydown",{key:i,code:B,shiftKey:b});L=!0,document.dispatchEvent(M),a.stopPropagation()}),r.appendChild(e)}n.appendChild(r)}return n}})();
